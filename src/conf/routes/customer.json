{
	"/Listcustomers": {
		"module"        : "db_crud",
		"method"        : "read",
		"authorisation" : "admin",
		"params"		: {
			"model"   			: "customer",
			"query"  			: {},
			"fields" 			: [ "name", "short_code", "account_manager"]
		},
		"subroutes" : {
			"/create" :{
				"req_method"	: "post",
				"module"    	: "db_crud",
				"method"		: "create",
				"authorisation" : "admin",
				"params"		: {
					"audit_log_message" : "Added new customer",
					"model"       		: "company",
					"validation" 		: {
						"name" : { 
							"required": {
								"error_message": "Please enter Customer Name."
							}, 
							"length":{ 
								"min":2, 
								"max":20,
								"error_message": "Please enter Customer Name, allowed length is in the range of 2-20."
							}
						},
						"short_code" 			: { 
							"required": {
								"error_message": "Please enter Short Code."
							}, 
							"length":{ 
								"min":2, 
								"max":20,
								"error_message": "Please enter Short Code, allowed length is in the range of 2-20."
							}
						},
						"account_manager" 		: { 
							"required": {
								"error_message": "Please select Account Manager."
							} 
						}
					}
				}
			},
			"/update/:id" :{
				"req_method"	: "post",
				"module"    	: "db_crud",
				"method"		: "update",
				"authorisation" : "admin",
				"params"		: {
					"audit_log_message" : "Edited customer details",
					"model"       		: "company",
					"query" 			: { "_id" : "${id}" },
					"validation" 		: {
						"name" : { 
							"required": {
								"error_message": "Please enter Customer Name."
							}, 
							"length":{ 
								"min":2, 
								"max":20,
								"error_message": "Please enter Customer Name,allowed length is in the range of 2-20."
							}
						},
						"short_code" 			: { 
							"required": {
								"error_message": "Please enter Short Code."
							}, 
							"length":{ 
								"min":2, 
								"max":20,
								"error_message": "Please enter Short Code,allowed length is in the range of 2-20."
							}
						},
						"account_manager" 		: { 
							"required": {
								"error_message": "Please enter Account Manager."
							} 
						}
					}
				}
			},
			"/:id" : {
				"req_method": "get",
				"module"    : "db_crud",
				"method"	: "read",
				"authorisation" : "admin",
				"params"		: {
					"model"   			: "company",
					"query"  			: { "_id" : "${id}" },
					"fields" 			: ["name","short_code","account_manager"]
				}
			},
			"/delete/:id" : {
				"req_method"	: "get",
				"module"    	: "db_crud",
				"method"		: "delete",
				"authorisation" : "admin",
				"params"		: {
					"audit_log_message" : "deleted customer",
					"model"   			: "company",
					"before" 			: [ "servers.deleteServersByCustomer", "users.deleteUsersByCustomer"],
					"query"  			: { "_id" : "${id}" }
				}
			}
		}
	}
}